<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="Estilos/Estilos_Header_Footer.css" />
  <link rel="stylesheet" href="Estilos/Estilo_Productos.css" />
  <link rel="stylesheet" href="Estilos/responsive.css" />
  <title>PRODUCTOS - EL MAN√Å</title>
</head>
<body>
  <header>
    <nav>
      <a href="Index.html"><img src="imagenes/logo.jpeg" alt="EL MAN√Å" /></a>
      <ul>  
        <li><a href="Index.html">INICIO</a></li>
        <li><a href="Conocenos.html">CON√ìCENOS</a></li>
        <li><a href="Productos.html">PRODUCTOS</a></li>
        <li><a href="Contactanos.html">CONT√ÅCTANOS</a></li>
      </ul>
    </nav>

    <div class="carrito-container">
      <button id="btn-carrito">
        üõí Carrito (<span id="carrito-contador">0</span>)
      </button>
    </div>
  </header>

  <main>
    <h1 class="bd"><a href="Index.html">Inicio</a> / Productos</h1>

    <section class="producto-lista">

      <div class="producto-item" id="PDN">
        <img src="imagenes/Productos/PDN.jpeg" alt="Pudin de chocolate" />
        <h3>Pudin de Chocolate</h3>
        <p class="precio">S/ 2.00</p>
        <p class="descripcion">
          Suave y cremoso postre de chocolate con un intenso sabor a cacao, ideal para disfrutar fr√≠o.
        </p>
        <button onclick="agregarAlCarrito()">Agregar al carrito</button>
      </div>

      <div class="producto-item" id="Mazamorra">
        <img src="imagenes/Productos/Mazamorra.jpeg" alt="Mazamorra" />
        <h3>Mazamorra</h3>
        <p class="precio">S/ 2.00</p>
        <p class="descripcion">
          Postre tradicional hecho a base de ma√≠z morado, frutas y especias.
        </p>
        <button onclick="mostrarPresentaciones(this)">‚ñº Ver presentaciones</button>
        <div class="presentaciones">
          <label><input type="radio" name="presentacion-mazamorra" value="Vaso"> Vaso (S/2.00)</label><br>
          <label><input type="radio" name="presentacion-mazamorra" value="Taper 1/2kg"> Taper 1/2 kg (S/7.00)</label><br>
          <label><input type="radio" name="presentacion-mazamorra" value="Taper 1kg"> Taper 1 kg (S/14.00)</label><br>
          <button onclick="agregarPresentacionAlCarrito('Mazamorra', 'presentacion-mazamorra')">Agregar al carrito</button>
        </div>
      </div>

      <div class="producto-item" id="arroz">
        <img src="imagenes/Productos/Arroz_Con_Leche.jpg" alt="Arroz con Leche" />
        <h3>Arroz con Leche</h3>
        <p class="precio">S/ 2.00</p>
        <p class="descripcion">Delicioso postre a base de arroz, leche y canela, con un toque de vainilla.</p>
        <button onclick="mostrarPresentaciones(this)">‚ñº Ver presentaciones</button>
        <div class="presentaciones">
          <label><input type="radio" name="presentacion-arroz" value="Vaso"> Vaso (S/2.00)</label><br>
          <label><input type="radio" name="presentacion-arroz" value="Taper 1/2 kg"> Taper 1/2 kg (S/5.00)</label><br>
          <label><input type="radio" name="presentacion-arroz" value="Taper 1kg"> Taper 1 kg (S/10.00)</label><br>
          <button onclick="agregarPresentacionAlCarrito('Arroz con Leche', 'presentacion-arroz')">Agregar al carrito</button>
        </div>
      </div>

      <div class="producto-item" id="FLAN">
        <img src="imagenes/Productos/FLAN.jpeg" alt="Flan de vainilla" />
        <h3>Flan de Vainilla</h3>
        <p class="precio">S/ 2.00</p>
        <p class="descripcion">
          Cl√°sico postre de textura firme y sedosa, con delicado sabor a vainilla natural y caramelo.
        </p>
        <button onclick="agregarAlCarrito()">Agregar al carrito</button>
      </div>

    </section>
  </main>

  <script>
    function agregarAlCarrito() {
      let contador = parseInt(localStorage.getItem('carritoContador') || '0');
      contador++;
      localStorage.setItem('carritoContador', contador);
      document.getElementById('carrito-contador').textContent = contador;

      alert("¬°Producto agregado al carrito!");
    }

    function agregarPresentacionAlCarrito(producto, grupoRadio) {
      const radios = document.querySelectorAll(`input[name='${grupoRadio}']`);
      let seleccionada = null;

      radios.forEach(radio => {
        if (radio.checked) {
          seleccionada = radio.value;
        }
      });

      if (!seleccionada) {
        alert(`Por favor, elige una presentaci√≥n para ${producto}.`);
        return;
      }

      let contador = parseInt(localStorage.getItem('carritoContador') || '0');
      contador++;
      localStorage.setItem('carritoContador', contador);
      document.getElementById('carrito-contador').textContent = contador;

      alert(`¬°Agregaste '${producto}' en presentaci√≥n '${seleccionada}' al carrito!`);
    }

    function mostrarPresentaciones(boton) {
      const presentaciones = boton.nextElementSibling;
      presentaciones.classList.toggle("mostrar");

      boton.textContent = presentaciones.classList.contains("mostrar")
        ? "‚ñ≤ Ocultar presentaciones"
        : "‚ñº Ver presentaciones";
    }

    // Mostrar cantidad del carrito al cargar
    document.addEventListener("DOMContentLoaded", function () {
      const contador = localStorage.getItem('carritoContador') || '0';
      const spanContador = document.getElementById('carrito-contador');
      if (spanContador) {
        spanContador.textContent = contador;
      }
    });
  </script>

  <footer>
    <p>&copy; 2025 El Man√°. Todos los derechos reservados.</p>
  </footer>
</body>
</html>
